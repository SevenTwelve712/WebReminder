{% from 'utils/code_block.html' import code_block %}
{% from 'utils/content_table.html' import table %}

<h1 id="adding">Добавление</h1>
<p>Для простого добавления предмета необходимо просто добавить его в регистратор:</p>
<p><code>REGISTARTOR.register("item_id", () -> new Item(new Item.Properties()));</code></p>
<h2 id="properties">Свойства</h2>
<p>Сначала разберемся с Properties: это параметры предмета, определяющие его. Вот список некоторых полезных параметров:</p>
{{ table(properties) }}
<p>параметры прописываются как методы Properties, например: <code>Item.Properties().durability(540)</code></p>

<h1 id="customItem">Кастомный предмет</h1>
<p>нас интересует не только добавить предмет, но и переопределить его поведение. Для этого создадим новый класс</p>
{{ code_block(custom_item) }}

<p>После этого наш предмет создан, но мы хотим переопределить его поведение. Для этого переопределить его методы:</p>
<h2 id="useOn">useOn</h2>
<p>Принимает <code>UseOnContext pContext</code>, вызывается при пкм с предметом в руке</p>
<p>полезные методы pContext:</p>
{{ table(UseOnContext) }}
<p>Примечания при работе:</p>
<ul>
    <li>Различай clientSide и serverSide при работе с Level. Изменения блоков/сущностей и проч. должны происходить на сервере, а частицы/визуальные эффекты на клиенте.
     Проверяй <code>level.isClientSide()</code>, или что-то подобное</li>
</ul>

<h1 id="item_itemstack">Item и ItemStack</h1>
<p>Стоит различать эти два класса: Item это абстрактный предмет, добавляемый в игру (я добавляю лопату), а ItemStack — ее конкретная репрезентация
(лопата, которую я скрафтил, наполовину сломанная). Полезные методы этих классов:</p>
{{ table(item_itemstack) }}

<h2 id="methods_explaining">Объяснение и примечания к некоторым методам</h2>
<h3 id="hurtAndBreak">hurtAndBreak</h3>
<p>Пока не до конца понял, как он работает, но это сто проц рабочий вариант
    (предварительно, если мы чекнули, что level находится на серверной стороне)</p>
<p><code>pContext.getItemInHand().hurtAndBreak(1, ((ServerLevel) level),
    (ServerPlayer) pContext.getPlayer(), item -> pContext.getPlayer().onEquippedItemBroken(item, EquipmentSlot.MAINHAND));</code></p>


<h1 id="representation">Отображение в игре</h1>
<p>прежде всего, не забываем добавить наш предмет в <code>resources/assets/mod_id/lang/en_us.json</code>. Указываем
    <code>"item.mod_id.item_id": "translation"</code></p>
<h2 id="model">Добавляем модель</h2>
<p>Модель стоит добавлять в <code>assets/mod_id/model/item/item_id.json</code>. Возможно, тут позже будет разбор этого файла, но на данный момент просто забиваем
туда содержание:</p>
{{ code_block(item_model) }}

<h2 id="texture">Текстура</h2>
<p>Текстуру в формате .png добавляем в <code>assets/mod_id/textures/item/item_id.png</code></p>