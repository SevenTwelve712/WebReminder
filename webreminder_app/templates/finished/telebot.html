{% from 'code_block.html' import code_block %}
{% from 'content_table.html' import table %}
<h2 id="start">Начало работы с ботом</h2>
<p>Что нужно для старта бота:</p>
<ol>
  <li>Создать объект бота, в котором указать токен</li>
  <li>Запустить бота через метод infinity_polling()</li>
</ol>
{{ code_block(code1) }}
<h2 id="common_things">Отправка сообщений</h2>
<h3 id="usual">Отправка текста:</h3>
{{ code_block(code2) }}
<h3 id="answer">Ответ на сообщение:</h3>
{{ code_block(code3) }}
<h3 id="photo">Отправка фото:</h3>
{{ code_block(code4) }}
<h3 id="video">Отправка видео:</h3>
{{ code_block(code5) }}
<h3 id="audio">Отправка аудио:</h3>
{{ code_block(code6) }}
<h3 id="file">Отправка файла:</h3>
{{ code_block(code7) }}
<h2 id="command_handler">Обработка команд</h2>
<p>Для обработки команд надо написать функцию, задекорировав ее декоратором @bot.message_handler с параметром commands=[Список команд]</p>
{{ code_block(code8) }}
<h2 id="text_handler">Обработка текста</h2>
<p>Для обработки текста надо написать функцию, задекрорировав ее декоратором @bot.message_handler с параметром content_types=["text"]</p>
{{ code_block(code9) }}
<h2 id="replybutton_creating">Создание reply кнопок</h2>
<p>Reply кнопки — кнопки, при нажатии которых в чат отсылается некий текст Для создания reply кнопок надо:</p>
<ol>
  <li>Создать объект types.ReplyKeyboardMarkup(row_width=кол-во сообщений в одном ряду, resize_keyboard=True)<br>Прим: параметр resize_keyboard нужно установить True если мы не хотим ебейшие кнопки на полэкрана</li>
  <li>Создать сами кнопки (types.KeyboardButton(text="Текст, который будет написан на кнопке и который она будет отсылаться в чат"))</li>
  <li>Добавить в объект из 1) кнопки из 2) с помощью метода add</li>
  <li>В параметре reply_markup отсылаемого сообщения указать объект из 1). Тогда после того, как будет отослано это сообщение, кнопки появятся (Прим: при последующих перезапусках бота кнопки уже будут, они исчезнут только если удалить чат с ботом)</li>
</ol>
{{ code_block(code10) }}
<h2 id="inlinebutton_creating">Создание inline кнопок</h2>
<p>Inline кнопки — кнопки под сообщением. Их функционал гораздо шире, чем у reply кнопок. Для создания inline кнопок надо:</p>
<ol>
  <li>Создать объект types.InlineKeyboardMarkup(row_width=количество кнопок в ряду под сообщением, по умолчанию 3)</li>
  <li>Создать сами кнопки: types.InlineKeyboardButton(text="Текст кнопки", callback_data="любая строка")</li>
  <li>Добавить в объект из 1) кнопки из 2) с помощью метода add</li>
  <li>параметре reply_markup отсылаемого сообщения указать объект из 1). Тогда после того, как будет отослано это сообщение, кнопки появятся</li>
  <li>Создать декоратор @bot.callback_query_handler(func=lambda call: True)</li>
  <li>В нем написать функцию с 1 аргументом (назовем его call) и любым названием (назовем ее callback_inline)</li>
  <li>Написать в ф-ии if call.message:</li>
  <li>В ifе из 7) написать if call.data == "строка из callback_data пункта 2)":</li>
  <li>прописать действие кнопки (например, отправку сообщения: bot.send_message(call.message.chat.id, "Пошел нахуй"))</li>
</ol>
{{ code_block(code11) }}
<p>Ну как бы все епта. Простенького бота теперь осилиш</p>