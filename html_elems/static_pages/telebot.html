<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="C:/Users/seven/Documents/Python_projects/WebReminder/html_elems/styles/code_block.css">
    <link rel="stylesheet" type="text/css" href="C:/Users/seven/Documents/Python_projects/WebReminder/html_elems/styles/instructions.css">
    <link rel="stylesheet" type="text/css" href="C:/Users/seven/Documents/Python_projects/WebReminder/html_elems/styles/libraries.css">
    <link rel="stylesheet" type="text/css" href="C:/Users/seven/Documents/Python_projects/WebReminder/html_elems/styles/navigation.css">
    <title>telebot</title>
</head>
<body>
<ul class="navul">
	<li>
		Главная  &#9662
	</li>
	<li>
		Библиотеки  &#9662
		<ul class="dropdown">
			<li><a href="C:\Users\seven\Documents\Python_projects\WebReminder\html_elems\static_pages\csv.html">csv</a></li>
			<li><a href="C:\Users\seven\Documents\Python_projects\WebReminder\html_elems\static_pages\functools.html">functools</a></li>
			<li><a href="C:\Users\seven\Documents\Python_projects\WebReminder\html_elems\static_pages\itertools.html">itertools</a></li>
			<li><a href="C:\Users\seven\Documents\Python_projects\WebReminder\html_elems\static_pages\json.html">json</a></li>
			<li><a href="C:\Users\seven\Documents\Python_projects\WebReminder\html_elems\static_pages\math.html">math</a></li>
			<li><a href="C:\Users\seven\Documents\Python_projects\WebReminder\html_elems\static_pages\os.html">os</a></li>
			<li><a href="C:\Users\seven\Documents\Python_projects\WebReminder\html_elems\static_pages\random.html">random</a></li>
		</ul>
	</li>
	<li>
		Инструкции  &#9662
		<ul class="dropdown">
			<li><a href="C:/Users/seven/Documents/Python_projects/WebReminder/html_elems/static_pages/telebot.html">telebot</a></li>
		</ul>
	</li>
</ul><h1>telebot</h1>
<div class="chapter_list">
    <text class="up">
        <a href="#">▲</a>
    </text>
    Содержание
		<ol>
            <li><a href="#start">Начало</a></li>
            <li><a href="#common_things">Отправка сообщений</a></li>
            <li><a href="#command_handler">Обработка команд</a></li>
            <li><a href="#text_handler">Обработка текста</a></li>
            <li><a href="#replybutton_creating">Создание reply кнопок</a></li>
            <li><a href="#inlinebutton_creating">Создание inline кнопок</a></li>
		</ol>
</div>

<div class="content">
    <h2 id="start">Начало работы с ботом</h2>
    <p>
        Что нужно для старта бота:
    </p>
    <ul>
    <li>Создать объект бота, в котором указать токен</li>
    <li>Запустить бота через метод infinity_polling()</li>
    </ul>
    <p>
        Данный бот ничего не будет делать
    </p>
    <div class="code_block">
        <pre>from telebot import *

bot = TeleBot('Token')
bot.infinity_polling()</pre>
    </div>
    <h2 id="common_things">Отправка сообщений</h2>
    <p>
        Отправка сообщений обычным способом:
    </p>
    <div class="code_block">
        <pre>bot.send_message(message.chat.id, 'text')
# message.chat.id всего лишь пример переменной, так то нужен конкретный chatid</pre>
    </div>
    <p>
        Ответ на сообщение:
    </p>
    <div class="code_block">
        <pre>bot.reply_to(message, text='text')
# message всего лишь пример переменной, так то нужно конкретное сообщение
# (внимание, не chatid, а именно сообщение)</pre>
    </div>
    <p>
        Отправка фото:
    </p>
    <div class="code_block">
        <pre>bot.send_photo(message.chat.id, open("C:\Users\seven\Pictures\Идеи для обоев\6.jpg", 'rb'))
# bot.send_photo(chatid, open('Путь к файлу', 'rb'))
# Не сжатое фото</pre>
    </div>
    <p>
        Отправка видео:
    </p>
    <div class="code_block">
        <pre>bot.send_video(message.chat.id, open("C:\Users\seven\Pictures\1.mp4", 'rb'))
# bot.send_video(chatid, open('Путь к файлу', 'rb'))
# Не сжатое видео</pre>
    </div>
    <p>
        Отправка аудио:
    </p>
    <div class="code_block">
        <pre>bot.send_audio(message.chat.id, open("C:\Users\seven\Pictures\Временка\1.mp3", 'rb'))
# bot.send_audio(chatid, open('Путь к файлу', 'rb'))</pre>
    </div>
    <p>
        Отправка файла:
    </p>
    <div class="code_block">
        <pre>bot.send_document(message.chat.id, open("C:\Users\seven\Pictures\Временка\1.ttf", 'rb'))
# bot.send_audio(chatid, open('Путь к файлу', 'rb'))
# если таким образом отправить изображение оно будет сжатым, но если отправить видео,
# оно будет не сжатым</pre>
    </div>
    <h2 id="command_handler">Обработка команд</h2>
    <p>
        Для обработки команд надо написать функцию, задекорировав ее декоратором @bot.message_handler с параметром commands=[Список команд]
    </p>
    <div class="code_block">
        <pre>@bot.message_handler(commands=["start"])
def start(message):
    bot.send_message(message.chat.id, "Пошел нахуй")
# Данный код отправит тому, кто запустил бота (автоматически отправляется команда /start)
# сообщение "Пошел нахуй</pre>
    </div>
    <h2 id="text_handler">Обработка текста</h2>
    <p>
        Для обработки текста надо написать функцию, задекрорировав ее декоратором @bot.message_handler с параметром content_types=["text"]
    </p>
    <div class="code_block">
        <pre>@bot.message_handler(content_types=["text"])
def text_replyer(message):
    if message.text == 'Иди нахуй':
        bot.send_message(message.chat.id, "Сам нахуй иди шалава ебаная")
# Данный код отправит тому еблану, кто написал "Иди нахуй"
# сообщение "Сам нахуй иди шалава ебаная</pre>
    </div>
    <h2 id="replybutton_creating">Создание reply кнопок</h2>
    <p>
        Reply кнопки — кнопки, при нажатии которых в чат отсылается некий текст Для создания reply кнопок надо:
    </p>
    <ul>
    <li>Создать объект types.ReplyKeyboardMarkup(row_width=кол-во сообщений в одном ряду, resize_keyboard=True)<br>Прим: параметр resize_keyboard нужно установить True если мы не хотим ебейшие кнопки на полэкрана</li>
    <li>Создать сами кнопки (types.KeyboardButton(text="Текст, который будет написан на кнопке и который она будет отсылаться в чат"))</li>
    <li>Добавить в объект из 1) кнопки из 2) с помощью метода add</li>
    <li>В параметре reply_markup отсылаемого сообщения указать объект из 1). Тогда после того, как будет отослано это сообщение, кнопки появятся (Прим: при последующих перезапусках бота кнопки уже будут, они исчезнут только если удалить чат с ботом)</li>
    <div class="code_block">
        <pre>@bot.message_handler(commands=["start"])
def start(message):
    markup = types.ReplyKeyboardMarkup(row_width=2, resize_keyboard=True)
    b1 = types.KeyboardButton(text="Suck dick")
    b2 = types.KeyboardButton(text="Fuck ass")
    b3 = types.KeyboardButton(text="Suction")
    b4 = types.KeyboardButton(text="Billy")
    markup.add(b1, b2, b3, b4)
    bot.send_message(message.chat.id, 'Fuck you', reply_markup=markup)
# Данный код по команде \start отправит сообщение Fuck you пользователю, + у юзера появится поле
# с кнопками Suck dick, Fuck ass, Suction, Billy</pre>
    </div>
    <h2 id="inlinebutton_creating">Создание inline кнопок</h2>
    <p>
        Inline кнопки — кнопки под сообщением. Их функционал гораздо шире, чем у reply кнопок. Для создания inline кнопок надо:
    </p>
    <li>Создать объект types.InlineKeyboardMarkup(row_width=количество кнопок в ряду под сообщением, по умолчанию 3)</li>
    <li>Создать сами кнопки: types.InlineKeyboardButton(text="Текст кнопки", callback_data="любая строка")</li>
    <li>Добавить в объект из 1) кнопки из 2) с помощью метода add</li>
    <li>параметре reply_markup отсылаемого сообщения указать объект из 1). Тогда после того, как будет отослано это сообщение, кнопки появятся</li>
    <li>Создать декоратор @bot.callback_query_handler(func=lambda call: True)</li>
    <li>В нем написать функцию с 1 аргументом (назовем его call) и любым названием (назовем ее callback_inline)</li>
    <li>Написать в ф-ии if call.message:</li>
    <li>В ifе из 7) написать if call.data == "строка из callback_data пункта 2)":</li>
    <li>прописать действие кнопки (например, отправку сообщения: bot.send_message(call.message.chat.id, "Пошел нахуй"))</li>
    <div class="code_block">
        <pre>@bot.message_handler(commands=["start"])
def start(message):
    markup = types.InlineKeyboardMarkup(row_width=2)
    b1 = types.InlineKeyboardButton(text="Suck dick", callback_data="gachi1")
    b2 = types.InlineKeyboardButton(text="Fuck ass", callback_data="gachi2")
    b3 = types.InlineKeyboardButton(text="Suction", callback_data="gachi3")
    b4 = types.InlineKeyboardButton(text="Billy", callback_data="gachi4")
    markup.add(b1, b2, b3, b4)
    bot.send_message(message.chat.id, 'Fuck you', reply_markup=markup)


@bot.callback_query_handler(func=lambda call: True)
def callback_inline(call):
    if call.message:
        if call.data == "gachi1":
            bot.send_message(call.message.chat.id, "Without further interraption")
        elif call.data == "gachi2":
            bot.send_message(call.message.chat.id, "AAAAAAAAA")
        if call.data == "gachi3":
            bot.send_message(call.message.chat.id, "6 hot loads")
        if call.data == "gachi4":
            bot.send_message(call.message.chat.id, "Herrington")


# Данный код по команде \start отправит сообщение Fuck you пользователю, под которым будет 4 кнопки,
# на которых будет написано Suck dick, Fuck ass, Suction, Billy.
# При нажатии на Suck dick юзеру отправится сообщение Without further interraption
# При нажатии на Fuck ass юзеру отправится сообщение AAAAAAAAA
# При нажатии на Suction юзеру отправится сообщение 6 hot loads
# При нажатии на Billy юзеру отправится сообщение Herrington</pre>
    </div>
    <p>
        Ну как бы все епта. Простенького бота теперь осилиш
    </p>
</div>
</body>
</html>